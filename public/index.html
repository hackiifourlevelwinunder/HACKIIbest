<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HACKII</title>
<script src="/socket.io/socket.io.js"></script>
<style>
body{
  background:#0a0f1f;
  color:#00f5ff;
  font-family:Orbitron, sans-serif;
  text-align:center;
}
h1{
  font-size:50px;
  letter-spacing:5px;
}
.card{
  margin:20px auto;
  padding:20px;
  width:300px;
  border-radius:15px;
  background:rgba(255,255,255,0.05);
  box-shadow:0 0 20px #00f5ff;
}
.big{color:#00ff88;}
.red{color:#ff4d4d;}
.green{color:#00ff88;}
.violet{color:#c77dff;}
</style>
</head>
<body>

<h1>HACKII</h1>
<div id="clock"></div>
<div class="card">
  <h2>Period: <span id="period"></span></h2>
  <h2>Countdown: <span id="countdown"></span></h2>
</div>

<div class="card">
  <h2>Current Result</h2>
  <h1 id="result">-</h1>
</div>

<div class="card">
  <h3>Previous Result</h3>
  <div id="history">-</div>
</div>

<script>
const socket = io();

function sizeType(n){
  return n<=4?"SMALL":"BIG";
}

function colorType(n){
  if([2,4,6,8].includes(n)) return "RED";
  if([1,3,7,9].includes(n)) return "GREEN";
  if(n===0) return "RED+VIOLET";
  if(n===5) return "GREEN+VIOLET";
}

socket.on("update",(data)=>{
  const now = new Date(data.time);
  const seconds = now.getSeconds();
  const countdown = 60 - seconds;

  document.getElementById("clock").innerText =
    now.toLocaleString();

  document.getElementById("countdown").innerText =
    countdown + "s";

  document.getElementById("period").innerText =
    data.period;

  if(data.currentResult!==null){
    const n = data.currentResult;
    document.getElementById("result").innerText =
      n + " | " + sizeType(n) + " | " + colorType(n);
  }

  if(data.lastResult!==null){
    document.getElementById("history").innerText =
      data.lastResult;
  }
});
</script>

</body>
</html>
